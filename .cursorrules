# PyKotor Development Environment

```bash
(.venv_pypy) PS G:\GitHub\PyKotor> uv --help

An extremely fast Python package manager.

Usage: uv.exe [OPTIONS] <COMMAND>

Commands:
  run       Run a command or script
  init      Create a new project
  add       Add dependencies to the project
  remove    Remove dependencies from the project
  version   Read or update the project's version
  sync      Update the project's environment
  lock      Update the project's lockfile
  export    Export the project's lockfile to an alternate format
  tree      Display the project's dependency tree
  tool      Run and install commands provided by Python packages
  python    Manage Python versions and installations
  pip       Manage Python packages with a pip-compatible interface
  venv      Create a virtual environment
  build     Build Python packages into source distributions and wheels
  publish   Upload distributions to an index
  cache     Manage uv's cache
  self      Manage the uv executable
  help      Display documentation for a command

Global options:
  -q, --quiet...                   Use quiet output
  -v, --verbose...                 Use verbose output
      --color <COLOR_CHOICE>       Control the use of color in output [auto, always, never]
      --native-tls                 Load TLS certificates from native store [env: UV_NATIVE_TLS=]
      --offline                    Disable network access [env: UV_OFFLINE=]
      --allow-insecure-host <HOST> Allow insecure connections to a host [env: UV_INSECURE_HOST=]
      --no-progress                Hide all progress outputs [env: UV_NO_PROGRESS=]
      --directory <DIRECTORY>      Change to the given directory before running the command
      --project <PROJECT>          Run within a given project directory [env: UV_PROJECT=]
      --config-file <CONFIG_FILE>  Path to a `uv.toml` config file [env: UV_CONFIG_FILE=]
      --no-config                  Avoid discovering config files (`pyproject.toml`, `uv.toml`) [env: UV_NO_CONFIG=]
  -h, --help                       Display concise help for this command
  -V, --version                    Display the uv version

Cache options:
  -n, --no-cache                   Avoid cache, use temp dir [env: UV_NO_CACHE=]
      --cache-dir <CACHE_DIR>      Path to cache directory [env: UV_CACHE_DIR=]
      --refresh                    Refresh all cached data
      --refresh-package <PACKAGE>  Refresh cache for specific package

Python options:
  -p, --python <PYTHON>            Python interpreter for environment [env: UV_PYTHON=]
      --managed-python             Require uv-managed Python [env: UV_MANAGED_PYTHON=]
      --no-managed-python          Disable uv-managed Python [env: UV_NO_MANAGED_PYTHON=]
      --no-python-downloads        Disable auto Python downloads [env: UV_PYTHON_DOWNLOADS=never]

For running commands/scripts:

Usage: uv.exe run [OPTIONS] [COMMAND]

Run options:
      --extra <EXTRA>                    Include optional dependencies from the specified extra
      --all-extras                       Include all optional dependencies
      --no-extra <EXTRA>                 Exclude extra dependencies
      --no-dev                           Disable the development dependency group
      --group <GROUP>                    Include dependencies from a specified dependency group
      --no-group <GROUP>                 Disable the specified dependency group
      --no-default-groups                Ignore default dependency groups
      --only-group <GROUP>               Only include specified dependency group
      --all-groups                       Include dependencies from all groups
  -m, --module                           Run a Python module
      --only-dev                         Only include the development dependency group
      --no-editable                      Install editable packages as non-editable [env: UV_NO_EDITABLE=]
      --exact                            Exact sync, remove extraneous packages
      --env-file <FILE>                  Load env variables from `.env` file [env: UV_ENV_FILE=]
      --no-env-file                      Do not read env vars from `.env` file [env: UV_NO_ENV_FILE=]
  -w, --with <PACKAGE>                   Run with given packages installed
      --with-editable <PACKAGE>          Run with given packages in editable mode
      --with-requirements <FILE>         Run with packages from requirements file(s)
      --isolated                         Run in an isolated virtual environment
      --active                           Prefer active venv over the project venv
      --no-sync                          Avoid syncing the virtual environment [env: UV_NO_SYNC=]
      --locked                           Assert that `uv.lock` will not change [env: UV_LOCKED=]
      --frozen                           Do not update `uv.lock` file [env: UV_FROZEN=]
  -s, --script                           Run the given path as a script
      --gui-script                       Run path as a Python GUI script
      --all-packages                     Run with all workspace members installed
      --package <PACKAGE>                Run in a specific workspace package
      --no-project                       Do not discover project/workspace

Index options:
      --index <INDEX>                    URLs to resolve dependencies [env: UV_INDEX=]
      --default-index <URL>              Default package index [env: UV_DEFAULT_INDEX=]
  -i, --index-url <URL>                  (Deprecated) Use `--default-index`
      --extra-index-url <URL>            (Deprecated) Use `--index`
  -f, --find-links <PATHS>               Additional candidate locations [env: UV_FIND_LINKS=]
      --no-index                         Ignore registry index
      --index-strategy <STRATEGY>        Strategy for multiple indexes [first-index, unsafe-first-match, unsafe-best-match]
      --keyring-provider <PROVIDER>      Index auth keyring [disabled, subprocess]

Resolver options:
  -U, --upgrade                          Allow package upgrades; implies refresh
  -P, --upgrade-package <PKG>            Upgrade a specific package; implies refresh-package
      --resolution <STRATEGY>            Version picking [highest, lowest, lowest-direct] [env: UV_RESOLUTION=]
      --prerelease <MODE>                Pre-release version strategy [disallow, allow, if-necessary, explicit, if-necessary-or-explicit] [env: UV_PRERELEASE=]
      --fork-strategy <STRATEGY>         Strategy for multi-version [fewest, requires-python] [env: UV_FORK_STRATEGY=]
      --exclude-newer <DATE>             Exclude candidates newer than date [env: UV_EXCLUDE_NEWER=]
      --no-sources                       Lock against publishable metadata only

Installer options:
      --reinstall                        Reinstall all packages; implies refresh
      --reinstall-package <PKG>          Reinstall a specific package; implies refresh-package
      --link-mode <MODE>                 Install method [clone, copy, hardlink, symlink] [env: UV_LINK_MODE=]
      --compile-bytecode                 Compile .py files to bytecode [env: UV_COMPILE_BYTECODE=]

Build options:
  -C, --config-setting <SETTING>         PEP 517 backend settings as KEY=VALUE
      --config-settings-package <PAIR>   PEP 517 backend settings by package as PACKAGE:KEY=VALUE
      --no-build-isolation               Disable isolation building sdist [env: UV_NO_BUILD_ISOLATION=]
      --no-build-isolation-package <PKG> Disable isolation building package sdist
      --no-build                         Do not build sdists [env: UV_NO_BUILD=]
      --no-build-package <PKG>           Do not build sdist for package [env: UV_NO_BUILD_PACKAGE=]
      --no-binary                        Do not install pre-built wheels [env: UV_NO_BINARY=]
      --no-binary-package <PKG>          Do not install pre-built wheels for package [env: UV_NO_BINARY_PACKAGE=]

See `uv help` and `uv help run` for more details and examples.
```

NEVER run the `pip` command directly, always run through `uv pip`. NEVER use `uv run pip`

log lines or debugging must log at least one or more variables. Never log a static string. Any and all conditionals should have a logging statement.

Don't use bare except blocks, always specify at least Exception. Within each in most cases always print at least the traceback.

Library (shared) pykotor code should go in Libraries/PyKotor/src/pykotor. `pykotor` is a shared namespace between all of the libraries (excluding utility).

Always use PurePath if the path isn't a real path on disk (e.g. relative paths, or paths within an archive/capsule). Otherwise always use CaseAwarePath
