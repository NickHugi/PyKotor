{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "all_packages",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "-r",
        "${workspaceFolder}${pathSeparator}requirements-dev.txt",
        "--progress-bar=on",
        "--prefer-binary",
        "--compile",
        "-U",
        "--upgrade-strategy=\"eager\"",
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "onProblem",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "pykotor_requirements",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "-r",
        "Libraries${pathSeparator}PyKotor${pathSeparator}requirements.txt"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "gl_requirements",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "-r",
        "Libraries${pathSeparator}PyKotorGL${pathSeparator}requirements.txt"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "holopatcher_recommended",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "-r",
        "Tools${pathSeparator}HoloPatcher${pathSeparator}recommended.txt"
      ]
    },
    {
      "label": "toolset_requirements",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "-r",
        "Tools${pathSeparator}HolocronToolset${pathSeparator}requirements.txt"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "batchpatch_requirements",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "-r",
        "Tools${pathSeparator}BatchPatcher${pathSeparator}requirements.txt"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "install_pyinstaller",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "pyinstaller"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "install_shiv",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "shiv"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "install_nuitka",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "nuitka"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "install_pylint",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "pylint"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "install_ruff",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "ruff"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "install_mypy",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "mypy"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "install_pylint",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "pip",
        "install",
        "pylint"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "pylint: toolset",
      "dependsOn": [
        "all_packages",
        "install_pylint"
      ],
      "type": "shell",
      "command": "${command:python.interpreterPath} -m pylint --disable=C0301,C0302,C0115,C0116,R0913,C0114,R0903,R0902,W0212,R0914,R0904,W0613,E0611,C0415,I1101 Tools${pathSeparator}HolocronToolset${pathSeparator}src${pathSeparator}toolset",
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "pylint: pykotor",
      "dependsOn": [
        "pykotor_requirements",
        "install_pylint"
      ],
      "type": "shell",
      "command": "${command:python.interpreterPath} -m pylint --disable=C0301,C0302,C0115,C0116,R0913,C0114,R0903,R0902,W0212,R0914,R0904,W0613,E0611,C0415 pykotor",
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "close": false
      },
      "problemMatcher": []
    },
    {
      "label": "Python: lint pykotor with mypy",
      "dependsOn": [
        "pykotor_requirements",
        "install_mypy"
      ],
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "mypy",
        "--no-pretty",
        "--show-column-numbers",
        "--package",
        "pykotor",
        "--check-untyped-defs",
        "--no-strict-optional"
      ],
      "group": "test",
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "close": false
      },
      "problemMatcher": {
        "owner": "python",
        "fileLocation": [
          "relative",
          "${workspaceFolder}"
        ],
        "pattern": {
          "regexp": "^(.+):(\\d+):(\\d+): (\\w+): (.*)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "severity": 4,
          "message": 5
        }
      }
    },
    {
      "label": "Python: lint toolset with mypy",
      "dependsOn": [
        "install_mypy",
        "pykotor_requirements",
        "gl_requirements",
        "toolset_requirements"
      ],
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "mypy",
        "--no-pretty",
        "--show-column-numbers",
        "--package",
        "Tools${pathSeparator}HolocronToolset${pathSeparator}src${pathSeparator}toolset",
        "--check-untyped-defs",
        "--no-strict-optional"
      ],
      "group": "test",
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "close": false
      },
      "problemMatcher": {
        "owner": "python",
        "fileLocation": [
          "relative",
          "${workspaceFolder}"
        ],
        "pattern": {
          "regexp": "^(.+):(\\d+):(\\d+): (\\w+): (.*)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "severity": 4,
          "message": 5
        }
      }
    },
    {
      "label": "Python: Ruff check entire project",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "install_ruff"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "ruff",
        "check",
        ".",
        "--ignore=D101,D102,D103,D107,D205,D417,D205,PLR5501,PLW2901,RUF100"
      ],
      "group": "test",
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "dedicated",
        "focus": true,
        "close": false
      },
      "problemMatcher": {
        "owner": "python",
        "fileLocation": [
          "relative",
          "${workspaceFolder}"
        ],
        "pattern": {
          "regexp": "^(.+):(\\d+):(\\d+): (\\w+): (.*)$",
          "file": 1,
          "line": 2,
          "column": 3,
          "severity": 4,
          "message": 5
        }
      }
    },    {
      "label": "Cython Compile All",
      "type": "shell",
      "command": "${command:python.interpreterPath}",
      "args": [
        ".${pathSeparator}compile${pathSeparator}cython_compile_script.py",
      ],
      "problemMatcher": [],
      "options": {
        "cwd": "${workspaceFolder}"
      },
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": false,
        "close": false
      },
    },
    {
      "label": "Build HoloPatcher - PyInstaller",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "holopatcher_recommended",
        "install_pyinstaller",
       // "Cython Compile All",
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "PyInstaller",
        "--noconsole",
        "--onefile",
        //"--clean",
        "--noconfirm",
        "--distpath=${workspaceFolder}${pathSeparator}dist",
        "--exclude-module=numpy",
        "--exclude-module=PyQt5",
        "--exclude-module=PIL",
        "--exclude-module=matplotlib",
        "--exclude-module=multiprocessing",
        "--exclude-module=PyOpenGL",
        "--exclude-module=PyGLM",
        "--exclude-module=dl_translate",
        "--exclude-module=torch",
        "--name=HoloPatcher",
        "--upx-dir=${env:USERPROFILE}${pathSeparator}Documents${pathSeparator}GitHub${pathSeparator}upx-win32",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src",
        "--icon=..${pathSeparator}resources${pathSeparator}icons${pathSeparator}patcher_icon_v2.ico",
        "__main__.py"
      ],
      "problemMatcher": [],
      "options": {
        "cwd": "${workspaceFolder}${pathSeparator}Tools${pathSeparator}HoloPatcher${pathSeparator}src"
      },
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "group": {
        "kind": "build",
        "isDefault": false,
      }
    },
    {
      "label": "Build HoloPatcher - Nuitka (Windows only, no CLI support)",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "holopatcher_recommended",
        "install_nuitka"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "nuitka",
        "--standalone",
        "--onefile",
        "--output-filename=HoloPatcher",
        "--windows-icon-from-ico=..${pathSeparator}resources${pathSeparator}icons${pathSeparator}patcher_icon_v2.ico",
        "--remove-output",
        "--output-dir=${workspaceFolder}${pathSeparator}nuitka_dist",
        "--enable-plugin=tk-inter",
        "__main__.py"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "options": {
        "env": {
          "PYTHONPATH": "${env:PYTHONPATH};${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src;${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src"
        },
        "cwd": "${workspaceFolder}${pathSeparator}Tools${pathSeparator}HoloPatcher${pathSeparator}src"
      },
      "problemMatcher": [],
      "group": {
        "kind": "build",
        "isDefault": false,
      }
    },
    {
      "label": "Build Toolset - PyInstaller",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "gl_requirements",
        "toolset_requirements",
        "install_pyinstaller"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "PyInstaller",
        "--noconsole",
        "--onefile",
        "--clean",
        "--noconfirm",
        "--name=HolocronToolset",
        "--distpath=${workspaceFolder}${pathSeparator}dist",
        "--exclude-module=dl_translate",
        "--exclude-module=torch",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotorGL${pathSeparator}src",
        "--icon=resources${pathSeparator}icons${pathSeparator}sith.ico",
        "toolset${pathSeparator}__main__.py"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "problemMatcher": [],
      "options": {
        "cwd": "${workspaceFolder}${pathSeparator}Tools${pathSeparator}HolocronToolset${pathSeparator}src"
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Build Toolset - Nuitka (Windows - Untested)",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "gl_requirements",
        "toolset_requirements",
        "install_nuitka"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "nuitka",
        "--disable-console",
        "--standalone",
        "--onefile",
        "--output-filename=HolocronToolset",
        "--windows-icon-from-ico=${workspaceFolder}${pathSeparator}Tools${pathSeparator}HolocronToolset${pathSeparator}resources${pathSeparator}icons${pathSeparator}sith.ico",
        "--remove-output",
        "--output-dir=${workspaceFolder}${pathSeparator}nuitka_dist",
        "--enable-plugin=pyqt5",
        "toolset${pathSeparator}__main__.py"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "problemMatcher": [],
      "options": {
        "env": {
          "PYTHONPATH": "${env:PYTHONPATH};${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src;${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotorGL${pathSeparator}src;${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src"
        },
        "cwd": "${workspaceFolder}${pathSeparator}Tools${pathSeparator}HolocronToolset${pathSeparator}src"
      }
    },
    {
      "label": "Build KotorDiff",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "install_pyinstaller"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "PyInstaller",
        "--console",
        "--onefile",
        "--clean",
        "--noconfirm",
        "--name=kotordiff",
        "--exclude-module=numpy",
        "--exclude-module=PyQt5",
        "--exclude-module=PIL",
        "--exclude-module=matplotlib",
        "--exclude-module=multiprocessing",
        "--exclude-module=PyOpenGL",
        "--exclude-module=PyGLM",
        "--exclude-module=dl_translate",
        "--exclude-module=torch",
        "--distpath=${workspaceFolder}${pathSeparator}dist",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src",
        "__main__.py"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "problemMatcher": [],
      "options": {
        "cwd": "${workspaceFolder}${pathSeparator}Tools${pathSeparator}KotorDiff${pathSeparator}src"
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "Build K-BatchPatcher",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "batchpatch_requirements",
        "install_pyinstaller"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "PyInstaller",
        "--console",
        "--onefile",
        "--clean",
        "--noconfirm",
        "--name=K_BatchPatcher",
        "--exclude-module=PyQt5",
        "--exclude-module=PyOpenGL",
        "--exclude-module=PyGLM",
        "--exclude-module=dl_translate",
        "--exclude-module=torch",
        "--exclude-module=numpy",
        "--exclude-module=multiprocessing",
        "--distpath=${workspaceFolder}${pathSeparator}dist",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotorFont${pathSeparator}src",
        "__main__.py"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "problemMatcher": [],
      "options": {
        "shell": {},
        "env": {},
        "cwd": "${workspaceFolder}${pathSeparator}Tools${pathSeparator}BatchPatcher${pathSeparator}src"
      },
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "icon": {
        "color":"terminal.ansiGreen",
        "id":"alert"
      }
    },
    {
      "label": "Build GUI Creator",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "install_pyinstaller"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "PyInstaller",
        "--console",
        "--onefile",
        "--clean",
        "--noconfirm",
        "--name=gui_creator",
        "--exclude-module=numpy",
        "--exclude-module=PyQt5",
        "--exclude-module=PIL",
        "--exclude-module=matplotlib",
        "--exclude-module=multiprocessing",
        "--exclude-module=PyOpenGL",
        "--exclude-module=PyGLM",
        "--exclude-module=dl_translate",
        "--exclude-module=torch",
        "--distpath=${workspaceFolder}${pathSeparator}dist",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src",
        "__main__.py"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "problemMatcher": [],
      "options": {
        "shell": {},
        "env": {},
        "cwd": "${workspaceFolder}${pathSeparator}tools${pathSeparator}GuiDuplicator${pathSeparator}src"
      }
    },
    {
      "label": "Build Model ASCII Compiler",
      "type": "shell",
      "dependsOn": [
        "pykotor_requirements",
        "install_pyinstaller"
      ],
      "command": "${command:python.interpreterPath}",
      "args": [
        "-m",
        "PyInstaller",
        "--console",
        "--onefile",
        "--clean",
        "--noconfirm",
        "--name=mdl_decompile",
        "--exclude-module=numpy",
        "--exclude-module=PyQt5",
        "--exclude-module=PIL",
        "--exclude-module=matplotlib",
        "--exclude-module=multiprocessing",
        "--exclude-module=PyOpenGL",
        "--exclude-module=PyGLM",
        "--exclude-module=dl_translate",
        "--exclude-module=torch",
        "--distpath=${workspaceFolder}${pathSeparator}dist",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}Utility${pathSeparator}src",
        "--path=${workspaceFolder}${pathSeparator}Libraries${pathSeparator}PyKotor${pathSeparator}src",
        "__main__.py"
      ],
      "presentation": {
        "echo": true,
        "showReuseMessage": true,
        "revealProblems": "never",
        "reveal": "always",
        "panel": "shared",
        "focus": true,
        "close": false
      },
      "problemMatcher": [],
      "options": {
        "shell": {},
        "env": {},
        "cwd": "${workspaceFolder}${pathSeparator}Tools${pathSeparator}MDLDecompile${pathSeparator}src"
      }
    }
  ]
}
